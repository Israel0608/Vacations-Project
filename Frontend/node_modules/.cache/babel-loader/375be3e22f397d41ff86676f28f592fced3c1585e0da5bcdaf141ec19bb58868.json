{"ast":null,"code":"var _jsxFileName = \"/Users/ysrlswpr/Desktop/Israel Sofer Project/Frontend/src/Components/DataArea/VacationList/VacationList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { authStore } from \"../../../Redux/AuthState\";\nimport dataService from \"../../../Services/DataService\";\nimport notificationService from \"../../../Services/NotificationService\";\nimport VacationCard from \"../VacationCard/VacationCard\";\nimport \"./VacationList.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport appConfig from \"../../../Utils/AppConfig\";\nimport CheckBox from \"../CheckBox/CheckBox\";\nimport { vacationsStore } from \"../../../Redux/VacationState\";\nimport CheckBoxDate from \"../CheckBoxDate/CheckBoxDate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction VacationList() {\n  _s();\n  var _authStore$getState$u, _authStore$getState$u2;\n  const [feVacations, setFeVacations] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const vacationsPerPage = 9;\n  const navigate = useNavigate();\n  const user = authStore.getState().user;\n  const vacation = vacationsStore.getState().vacation;\n  useEffect(() => {\n    if (!authStore.getState().token) {\n      notificationService.error(\"You must be logged in\");\n      navigate(appConfig.LoginRoute);\n      return;\n    }\n    dataService.getAllVacationsByUser(user === null || user === void 0 ? void 0 : user.userId).then(beVacations => setFeVacations(beVacations)).catch(err => notificationService.error(err));\n  }, [vacation.length]);\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n  const indexOfLastVacation = currentPage * vacationsPerPage;\n  const indexOfFirstVacation = indexOfLastVacation - vacationsPerPage;\n  const currentVacations = feVacations.slice(indexOfFirstVacation, indexOfLastVacation);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"VacationList\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: ((_authStore$getState$u = authStore.getState().user) === null || _authStore$getState$u === void 0 ? void 0 : _authStore$getState$u.roleId) === 2 && /*#__PURE__*/_jsxDEV(CheckBox, {\n        vacations: feVacations,\n        setFilteredVacations: setFeVacations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: ((_authStore$getState$u2 = authStore.getState().user) === null || _authStore$getState$u2 === void 0 ? void 0 : _authStore$getState$u2.roleId) === 2 && /*#__PURE__*/_jsxDEV(CheckBoxDate, {\n        vacations: feVacations,\n        setFilteredVacations: setFeVacations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), currentVacations.map(v => /*#__PURE__*/_jsxDEV(VacationCard, {\n      vacationId: v.vacationId,\n      vacationDestination: v.vacationDestination,\n      description: v.description,\n      checkIn: v.checkIn,\n      checkOut: v.checkOut,\n      isFollowing: v.isFollowing,\n      followersCount: v.followersCount,\n      price: v.price,\n      image: v.image,\n      imageUrl: v.imageUrl\n    }, v.vacationId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 34\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions\",\n      children: Array.from({\n        length: Math.ceil(feVacations.length / vacationsPerPage)\n      }, (_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => paginate(index + 1),\n        children: index + 1\n      }, index + 1, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(VacationList, \"rEBrnbfeS6xI6T8pltPf/1nIp/g=\", false, function () {\n  return [useNavigate];\n});\n_c = VacationList;\nexport default VacationList;\nvar _c;\n$RefreshReg$(_c, \"VacationList\");","map":{"version":3,"names":["React","useEffect","useState","authStore","dataService","notificationService","VacationCard","useNavigate","appConfig","CheckBox","vacationsStore","CheckBoxDate","jsxDEV","_jsxDEV","VacationList","_s","_authStore$getState$u","_authStore$getState$u2","feVacations","setFeVacations","currentPage","setCurrentPage","vacationsPerPage","navigate","user","getState","vacation","token","error","LoginRoute","getAllVacationsByUser","userId","then","beVacations","catch","err","length","paginate","pageNumber","indexOfLastVacation","indexOfFirstVacation","currentVacations","slice","className","children","roleId","vacations","setFilteredVacations","fileName","_jsxFileName","lineNumber","columnNumber","map","v","vacationId","vacationDestination","description","checkIn","checkOut","isFollowing","followersCount","price","image","imageUrl","Array","from","Math","ceil","_","index","onClick","_c","$RefreshReg$"],"sources":["/Users/ysrlswpr/Desktop/Israel Sofer Project/Frontend/src/Components/DataArea/VacationList/VacationList.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport VacationsModel from \"../../../Models/vacations-model\";\nimport { authStore } from \"../../../Redux/AuthState\";\nimport dataService from \"../../../Services/DataService\";\nimport notificationService from \"../../../Services/NotificationService\";\nimport VacationCard from \"../VacationCard/VacationCard\";\nimport \"./VacationList.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport appConfig from \"../../../Utils/AppConfig\";\nimport CheckBox from \"../CheckBox/CheckBox\";\nimport { vacationsStore } from \"../../../Redux/VacationState\";\nimport CheckBoxDate from \"../CheckBoxDate/CheckBoxDate\";\n\n\nfunction VacationList(): JSX.Element {\n  const [feVacations, setFeVacations] = useState<VacationsModel[]>([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const vacationsPerPage = 9;\n  const navigate = useNavigate();\n\n  const user = authStore.getState().user;\n  const vacation = vacationsStore.getState().vacation\n\n  useEffect(() => {\n    if (!authStore.getState().token) {\n      notificationService.error(\"You must be logged in\");\n      navigate(appConfig.LoginRoute)\n      return;\n    }\n    dataService.getAllVacationsByUser(user?.userId)\n      .then(beVacations => setFeVacations(beVacations))\n      .catch(err => notificationService.error(err));\n  }, [vacation.length]);\n\n  const paginate = (pageNumber: number) => setCurrentPage(pageNumber);\n\n  const indexOfLastVacation = currentPage * vacationsPerPage;\n  const indexOfFirstVacation = indexOfLastVacation - vacationsPerPage;\n  const currentVacations = feVacations.slice(indexOfFirstVacation, indexOfLastVacation);\n\n  return (\n    <div className=\"VacationList\">\n\n      <div>\n        {authStore.getState().user?.roleId === 2 && (\n          <CheckBox vacations={feVacations} setFilteredVacations={setFeVacations} />\n        )}\n      </div>\n\n      <div>\n        {authStore.getState().user?.roleId === 2 && (\n          <CheckBoxDate vacations={feVacations} setFilteredVacations={setFeVacations}/>\n        )}\n      </div>\n      {currentVacations.map(v => <VacationCard key={v.vacationId}\n        vacationId={v.vacationId}\n        vacationDestination={v.vacationDestination}\n        description={v.description}\n        checkIn={v.checkIn}\n        checkOut={v.checkOut}\n        isFollowing={v.isFollowing}\n        followersCount={v.followersCount}\n        price={v.price}\n        image={v.image}\n        imageUrl={v.imageUrl}\n      />)}\n      <div className=\"actions\">\n        {Array.from({ length: Math.ceil(feVacations.length / vacationsPerPage) }, (_, index) => (\n          <button key={index + 1} onClick={() => paginate(index + 1)}>\n            {index + 1}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default VacationList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}