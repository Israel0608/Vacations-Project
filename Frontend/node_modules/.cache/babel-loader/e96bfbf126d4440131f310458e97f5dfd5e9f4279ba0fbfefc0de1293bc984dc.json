{"ast":null,"code":"var _jsxFileName = \"/Users/ysrlswpr/Desktop/Israel Sofer Project/Frontend/src/Components/DataArea/AllFollowers/AllFollowers.tsx\",\n  _s = $RefreshSig$();\nimport { BarElement, CategoryScale, Chart as ChartJS, Legend, LinearScale, Title, Tooltip } from 'chart.js';\nimport { useEffect, useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport { authStore } from \"../../../Redux/AuthState\";\nimport dataService from \"../../../Services/DataService\";\nimport notificationService from \"../../../Services/NotificationService\";\nimport { CSVLink } from \"react-csv\";\nimport \"./AllFollowers.css\";\nimport appConfig from '../../../Utils/AppConfig';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AllFollowers() {\n  _s();\n  ChartJS.register([CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend]);\n  const [feVacations, setFeVacations] = useState([]);\n  const user = authStore.getState().user;\n  const navigate = useNavigate();\n  useEffect(() => {\n    dataService.getAllVacationsByUser(user === null || user === void 0 ? void 0 : user.userId).then(X => {\n      setFeVacations(X);\n    }).catch(err => notificationService.error(err));\n  }, [user]);\n  useEffect(() => {\n    if (!authStore.getState().token) {\n      notificationService.error(\"You must be logged in\");\n      navigate(appConfig.LoginRoute);\n      return;\n    }\n  }, []);\n  const x = [['VacationDestination', 'FollowersCount'], ...feVacations.map(v => [v.vacationDestination, v.followersCount.toString()])];\n  const labelsData = feVacations.map(f => `${f.vacationDestination}`);\n  const info = feVacations.map(f => `${f.followersCount}`);\n  const data = {\n    labels: labelsData,\n    datasets: [{\n      label: 'Vacation Followers',\n      data: info,\n      backgroundColor: ['blue'],\n      borderColor: ['white'],\n      borderWidth: 3\n    }]\n  };\n  const options = {\n    scales: {\n      y: {\n        ticks: {\n          stepSize: 1\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CSVLink, {\n      data: x,\n      filename: \"csv.csv\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Go\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Bar, {\n      className: \"chart\",\n      data: data,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(AllFollowers, \"T9NCKPmOry1AbfPPx0qk1yOBwcc=\", false, function () {\n  return [useNavigate];\n});\n_c = AllFollowers;\nexport default AllFollowers;\nvar _c;\n$RefreshReg$(_c, \"AllFollowers\");","map":{"version":3,"names":["BarElement","CategoryScale","Chart","ChartJS","Legend","LinearScale","Title","Tooltip","useEffect","useState","Bar","authStore","dataService","notificationService","CSVLink","appConfig","useNavigate","jsxDEV","_jsxDEV","AllFollowers","_s","register","feVacations","setFeVacations","user","getState","navigate","getAllVacationsByUser","userId","then","X","catch","err","error","token","LoginRoute","x","map","v","vacationDestination","followersCount","toString","labelsData","f","info","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","scales","y","ticks","stepSize","children","filename","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["/Users/ysrlswpr/Desktop/Israel Sofer Project/Frontend/src/Components/DataArea/AllFollowers/AllFollowers.tsx"],"sourcesContent":["import { BarElement, CategoryScale, Chart as ChartJS, Legend, LinearScale, Title, Tooltip } from 'chart.js';\nimport { useEffect, useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport VacationsModel from \"../../../Models/vacations-model\";\nimport { authStore } from \"../../../Redux/AuthState\";\nimport dataService from \"../../../Services/DataService\";\nimport notificationService from \"../../../Services/NotificationService\";\nimport { CSVLink } from \"react-csv\";\nimport \"./AllFollowers.css\";\nimport appConfig from '../../../Utils/AppConfig';\nimport { useNavigate } from 'react-router-dom';\n\n\nfunction AllFollowers(): JSX.Element {\n  ChartJS.register([CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend]);\n  const [feVacations, setFeVacations] = useState<VacationsModel[]>([]);\n  const user = authStore.getState().user;\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    dataService.getAllVacationsByUser(user?.userId)\n      .then(X => {\n        setFeVacations(X);\n      }).catch(err => notificationService.error(err))\n  }, [user]);\n\n  useEffect(() => {\n    if (!authStore.getState().token) {\n      notificationService.error(\"You must be logged in\");\n      navigate(appConfig.LoginRoute)\n      return;\n    }\n }, [])\n\n  const x: string[][] = [\n    ['VacationDestination', 'FollowersCount'], \n    ...feVacations.map(v => [v.vacationDestination, v.followersCount.toString()])\n];\n\n\n  const labelsData = feVacations.map(f => `${f.vacationDestination}`)\n  const info = feVacations.map(f => `${f.followersCount}`)\n\n\n  const data = {\n    labels: labelsData,\n    datasets: [{\n      label: 'Vacation Followers',\n      data: info,\n      backgroundColor: [\n        'blue',\n      ],\n      borderColor: [\n        'white',\n      ],\n      borderWidth: 3,\n    }],\n  };\n  const options = {\n    scales: {\n      y: {\n        ticks: {\n          stepSize: 1\n        }\n      }\n    }\n  }\n  return (\n    <div>\n      <CSVLink data={x} filename='csv.csv'>\n        <button>Go</button>\n      </CSVLink>\n      <Bar className=\"chart\" data={data} options={options} />\n    </div>\n  );\n}\n\nexport default AllFollowers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}